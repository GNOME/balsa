2001-11-08  Carlos Morgado  <chbm@chbm.nu>

	* configure.in: gss stuff tweak

2001-11-07  Pawel Salek  <pawsa@theochem.kth.se>

	* configure.in: reorder GSS linking order (as hinted by RH).
	look for GSS and SSL librares in few places (is this TheRightThing?)
	* src/balsa-app.c: fix recently broken rescan (Peter Bloomfield).
	* src/mailbox-conf.c:
	* src/mailbox-node.c: 

	
2001-11-05  Pawel Salek  <pawsa@theochem.kth.se>

	* NEWS, libinit_balsa/Makefile.am, configure.in: release 1.2.3
	
2001-11-05  Peter Bloomfield  <PeterBloomfield@MindSpring.com>

	* src/store-address.c: make notebook scrolleable.
	* src/balsa-index.c: fix message unreading 
	(bug occured due to missing "flag"<->"new" flag symmetry).

2001-11-04  Pawel Salek  <pawsa@theochem.kth.se>

	* acconfig.h, configure.in: always compile MDN in.
	* src/balsa-app.h, balsa-message.c, pref-manager.c, save-restore.c: 
	remove #ifdef BALSA_MDN 
	* src/balsa-icons.[hc]: add preleminary postpone icons.
	* src/main-window.c: update info.
	* src/sendmsg-window.c: Clean up toolbar code. Add postpone tool.
	* src/toolbar-factory.[ch], toolbar-prefs.[hc]: collect toolbar data
	in one place.

2001-11-04  Peter Bloomfield <PeterBloomfield@MindSpring.com>

	* src/balsa-index.[hc]: use GtkCTree directly to avoid GtkClist
	interface problems. (+some unrelated cleanup by PS).
	* src/balsa-mblist.c: select properly nex message after msg move.
	using new methods of BalsaIndex.
	* src/main-window.c: same.
	* src/message-window.c: same.

2001-11-03  Pawel Salek  <pawsa@theochem.kth.se>

	* src/balsa-app.h: add open_inbox_on_startup.
	* src/main.c: check it and act.
	* src/pref-manager.c, save-restore.c: configure, save, restore it.
	* src/expand-alias.c: remove some debugging output.
	* src/main-window.c: copy&select all probably belong to message menu.
	(Philip Van Hoof <freax@pandora.be>). Wrap after pref change (PB).
	missing "send&receive" menu entry.
	* src/store-address.c: full-blown address storing (Peter Bloomfield).
	* src/toolbar-prefs.c: handle selecting and unselecting rows properly.

2001-11-03  Pawel Salek  <pawsa@theochem.kth.se>

	* balsa.spec.in: require libesmtp-0.8.6 (perhaps not strictly
	necessary).
	* help/C/Makefile.am: include index.html in the tarball.

	* src/balsa-app.[hc]: make find_by_dir() public. Change some defaults
	to more sensible values.
	* src/folder-conf.c: use "clicked" signal instead of silly loop
	over events.
	* src/mailbox-conf.c: make "mailbox configurator" dialog non-modal.
	rescan local dirs (fix #54889). set default path.
	* src/mailbox-node.c: set  BalsaMailboxNode:dir field for local dirs.
	* src/main.c: add -i - open mailbox on startup (Toralf Lund).
	* balsa.1.in: add -i description.
	* libinit_balsa/balsa-druid-page-finish.gob,balsa-initdruid.gob:
	detect the gnome address book BEFORE saving the configuration.

	Michael Broaddus <mbroaddu@indy.net>
	* libbalsa/identity.[hc]: add sig_executable field and its UI.
	* src/save-restore.c: save and restore new sig data (fixed).
	* src/sendmsg-window.c: insert or execute.

2001-11-02  Pawel Salek  <pawsa@theochem.kth.se>

	* src/address-book-config.c: mark two strings for translation.
	* src/balsa-icons.[hc]: add "send/receive" menu and toolbar icons.
	* src/balsa-index.c: plug last hole in idle function handling (PB).
	* src/main-window.c: add "send/receive" callback (AA).
	* src/toolbar-factory.c: add "send/receive" to legal mainwindow tools.
	* src/toolbar-prefs.c: add "send/receive" button description.

2001-10-31  Pawel Salek  <pawsa@theochem.kth.se>

	* NEWS: release balsa-1.2.2
	
2001-10-31  Pawel Salek  <pawsa@theochem.kth.se>

	* src/balsa-index.c: fix #63303 (Peter Bloomfield).

2001-10-30  Pawel Salek  <pawsa@theochem.kth.se>

	* configure.in: use jw for help. bump the version number
	(no, it's not the release yet!).
	* help/C/Makefile.am: use jw for help.

2001-10-27  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/message.c: react on libmutt errors.

2001-10-27  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/send.c: attachments have disposition: attach (Toralf).
	* src/spell-check.c: compute string length once (Emmanuel).
	
2001-10-24  Pawel Salek  <pawsa@theochem.kth.se>

	* src/main-window.c: add hot letter to commit _all. ignore legal NULLs
	Peter Bloomfield's "always show INBOX" patch (amended)
	* libbalsa/folder-scanners.[hc]: add INBOX if requested.
	* src/folder-conf.c: add option to configure "always show Inbox"
	* src/mailbox-node.[hc]: read & save "ListInbox".

2001-10-24  Carlos Morgado  <chbm@chbm.nu>

	* src/main-window.c: Commit All menu entry

2001-10-23  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/mailbox.c: try harder to commit the mailbox.
	* src/balsa-index.c: attempt to address #62890.

2001-10-22  Pawel Salek  <pawsa@theochem.kth.se>

	Don't mix BalsaToolbarType with ordinary indexes.
	* src/balsa-app.h: toolbar_ids contains BalsaToolbarType elements.
	* src/toolbar-factory.[hc]: code audited on index<->BalsaToolbarType.
	* src/toolbar-prefs.[hc]: ditto. use GPOINTER_TO_INT() when needed.
	Fix bug reported by RH (replace toolbar by index).

	* src/main-window.c: change shortcuts to more common ones.
	* src/balsa-index.c: continue message by double-click (Peter B.).
	do not freeze on cancelled delete.
	* src/message-window.c: view source menu entry (Philip Van Hoof).
	* src/save-restore.c: use TOOLBAR_INVALID

2001-10-21  Pawel Salek  <pawsa@theochem.kth.se>

	* src/balsa-index.c: update to #62737.
	* src/sendmsg-window.c: Chinese support (ejoy@peoplemail.com.cn).
	Identity guessing (Steve Wall).
	
2001-10-21  Pawel Salek  <pawsa@theochem.kth.se>

	* configure.in, NEWS, AUTHORS: prepare 1.2.1 release.

2001-10-21  Peter Bloomfield  <PeterBloomfield@MindSpring.com>

	* src/balsa-index.c: automatic thread expansion on next unread #62737.

2001-10-20  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/libbalsa.h: libbalsa_wait_for_sending_thread().

	* libbalsa/message.[hc]: add arguments to message_{delete,flag}
	and remove un{delete,flag}.

	* libbalsa/send.c: fix occasional multiple mail sending (#62653).
	* src/balsa-index.c: 
	* src/message-window.c:
	* src/sendmsg-window.c: use updated LibBalsaMessage API.
	* src/main-window.c: do not quit before sending is finished (the
	alternative solution would be to ask the user if he/she wants to
	proceed).
	* src/{main.c,threads.h}: remove globals sending_mail variable.

	* src/address-book-config.c: plug memory leaks (Peter Bloomfield +
	Ali Akcaagac).
	
2001-10-19  Peter Bloomfield  <PeterBloomfield@MindSpring.com>

	* libbalsa/address-entry.c: cleanup.
	* src/message-window.c: do not abort on unexpected MRU entry (#62625)

2001-10-18  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/send.c: fix libmutt locking (Emmanuel).
	* libbalsa/mailbox_imap.c: fix #62555.

	Philip Van Hoof <freax@pandora.be>:
	* src/balsa-index.c: a View Source right mouse button menu entry.
	* libbalsa/source-viewer.c: Edit/Copy+Select 

2001-10-18  Carlos Morgado  <chbm@chbm.nu>

	* src/sendmsg-window.c: 
	* src/balsa-message.c: 
	* libbalsa/send.c:
	patch from Albert to fix URL encoding.
	removed text/html content for URL. it doesn't make much sense.

2001-10-17  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/address-book-ldif.c: strcpy+strcat->g_strconcat
	* balsa/libbalsa/address-book-vcard.c: add known offset.
	* libbalsa/mailbox.c: forgotten libbalsa_lock_mutt().
	* libbalsa/message.c: extra armour.
	* libbalsa/misc.c (libbalsa_readfile): always append '\0'.
	* src/balsa-message.c: gtktext calculation reverted.
	* src/save-restore.c: plug memory leak.
	* src/sendmsg-window.c: autoreply fix (Peter Bloomfield).
	* src/toolbar-prefs.[hc]: toolbar backward compatibility (Steve Wall).
	
2001-10-17  Yanko Kaneti  <yaneti@declera.com>

	* configure.in (ALL_LINGUAS): add "bg" to the translations list.

2001-10-17  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/address-book-ldif.c: never ever modify the list while
	iterating over it: fix #62468.
	* src/save-restore.c: remove unused identity/Identities string.
	keep identity order (Steve Wall).
	
2001-10-16  Pawel Salek  <pawsa@theochem.kth.se>

	Total icon lift-up by Ali Akcaagac.
	* src/ balsa-icons.[hc], balsa-index.c, balsa-mblist.c, 
	filter-edit-callbacks.c, main-window.c, message-window.c,
	sendmsg-window.c, toolbar-factory.c, toolbar-prefs.c:
	use updated, more systematic icon names.
	* src/pixmap/*.xpm: new icons.

2001-10-15  Carlos Morgado  <chbm@chbm.nu>

	* src/balsa-message.c: 
	* src/sendmsg-window.c: 
	* libbalsa/send.c: 
	support for sending and receving ext-body/URL + dnd of mozilla
	urls

2001-10-15  Pawel Salek  <pawsa@theochem.kth.se>

	* src/save-restore.c: handle corrupted toolbar configuration.
	* src/toolbar-factory.c: some probably never printed warnings.
	
	Steve Wall <hitched97@myrealbox.com> fix of #61471.
	* src/sendmsg-window.c: add blank item to Fcc list,
        use NULL for fcc mailbox if Fcc box is empty.
	* src/save-restore.c: save/restore setting of CopyToSentbox
	* src/pref-manager.c: add the CopyToSentbox check-box to preferences
	* src/balsa-app.h: add flag to balsa_app structure.

2001-10-14  Pawel Salek  <pawsa@theochem.kth.se>

	* src/balsa-index.c: improve index center on expand/collapse.
	
	Albrecht Dreﬂ's patch for attaching files as external-body: #61156
	* libbalsa/body.h: add attach_as_extbody field.
	* libbalsa/send.c: implement add_mutt_body_as_extbody().
	* src/balsa-message.c: do not drop g_string_new() result on floor.
	* src/sendmsg-window.c: attaching files as external-body.

	Peter Bloomfield's auto-quote (balsa-list).
	* src/balsa-app.h: add autoquote field.
	* src/pref-manager.c: configure autoquote.
	* src/save-restore.c: save ad restore autoquote.
	* src/sendmsg-window.c: autoquote.

2001-10-13  Pawel Salek  <pawsa@theochem.kth.se>

	Peter Bloomfield code cleanup patches:
	* libbalsa/misc.c, src/balsa-message.c, src/sendmsg-window.c:
	g_string_xx() functions return a parameter; add doc for 
	libbalsa_process_text_rfc2646(); improve dynamic mem allocation,
	etc.
	* src/balsa-message.c: improve gtkhtml size allocation.
	
	other cleanup by Ali Akcaagac+Emmanuel
	* libbalsa/address-entry.c, libbalsa/misc.c
	* src/address-book.c, src/expand-alias.c:
	* src/filter-edit-callbacks.c, src/mailbox-conf.c: 
	do not use strlen(s) where *s will do.
	

2001-10-10  Pawel Salek  <pawsa@theochem.kth.se>

	* src/balsa-icons.[hc]: cleanup icon registration code.

	Ali Akcaagac <ali.akcaagac@stud.fh-wilhelmshaven.de> icon updates:
	* src/main-window.c, src/sendmsg-window.c, src/toolbar-prefs.c:
	* src/pixmaps/{,close_mbox.xpm, empty_trash.xpm, next_flagged.xpm,
	next_flagged_menu.xpm, reply_to_group.xpm, reply_to_group_menu.xpm,
	mark_all_menu.xpm}: updated icons.

	* src/sendmsg-window.c: Toralf Lund + Peter Bloomfield extensive
	D&D support.

	* libbalsa/pop3.c: be even more defensive, II (Peter Bloomfield).

2001-10-09  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/source-viewer.c: missing negation.
	* configure.in: add explicit library list for pspell.
	* libbalsa/mailbox.c: extra safety checks (Peter Bloomfield).

2001-10-08  Pawel Salek  <pawsa@theochem.kth.se>

	The mailbox commiting, the proper way.
	* libbalsa/libbalsa.h: define MuttHeader.
	* libbalsa/mailbox.[hc]: the proper mailbox_commit().
	* libbalsa/mailbox_imap.c: drop LibBalsaMessage::msgno field.
	* libbalsa/mailbox_local.c: fix message counting.
	* libbalsa/message.[hc]: replace gulong::msgno with MuttHeader::header.
	* libbalsa/send.c: msgno->header.
	* libbalsa/source-viewer.c: ditto.
	* src/balsa-index-threading.c: use LIBBALSA_MESSAGE_GET_NO()
	* src/balsa-index.c: ditto.
	* libbalsa/pop3.c: be even more defensive.
	
2001-10-08  Carlos Morgado  <chbm@chbm.nu>

	* src/main-window.c: 'mark all' menu entry, clean up 
	enable_message_menus()

2001-10-07  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/pop3.c: fix misspelling in error msg. Remove redundant test.
	
	Ali Akcaagac <ali.akcaagac@stud.fh-wilhelmshaven.de> am/ac updates:
	* configure.in: updated (mostly) for autoconf-2.5
	* libinit_balsa/Makefile.am:
	* src/Makefile.am:
	* website/Makefile.am: updated for automake-1.5
	* src/balsa-app.c: switch on mbox checking by default.

	Adapted Willem Riede's <wriede@riede.org> preview switch button.
	* src/balsa-icons.[hc]: add the icon.
	* src/balsa-index.c: don't try to show message when no preview.
	* src/balsa-message.c: remove dead comments.
	* src/main-window.c: add preview switching button callback.
	* src/toolbar-factory.c: add the button to the list of legal buttons.
	* src/toolbar-prefs.c: add the configuration data.
	
2001-10-07  Carlos Morgado  <chbm@chbm.nu>

	* libbalsa/mailbox.h: libbalsa_mailbox_commit prototype

2001-10-07  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/mailbox.c: libbalsa_mailbox_commit() implemented.
	* src/main-window.c: use libbalsa_mailbox_commit().
	
2001-10-06  Pawel Salek  <pawsa@theochem.kth.se>

	* configure.in: warn on wrong return type.
	* libbalsa/misc.c, libbalsa/address-book-ldif.c: Solaris fixes (S.Wall)
	* libbalsa/pop3.c: quit immediately on refused connection.
	* libbalsa/address.c (rfc2822_mailbox): return a value.
	* src/sendmsg-window.c, src/balsa-mblist.[hc]: fix return type.
	* src/main-window.c: add missing gdk_threads_{enter,leave}. Clean up.
	* src/pref-manager.c: double click to edit server (Peter Bloomfield).
	* src/mailbox-conf.c: disable pop3 ssl nicely (Peter Bloomfield).

	NOTE:
	* libinit_balsa/Makefile.am: automake-1.5 compatibility changes that
	were initially commited (see rev.1.20) actually broke things. Reverted.

2001-10-05  Pawel Salek  <pawsa@theochem.kth.se>

	* configure.in: warn on missing prototypes.
	* libbalsa/Makefile.am:
	* images/Makefile.am: 
	* sounds/Makefile.am:
	* libbalsa/misc.c: improve wrapping of format=flowed (Peter Bl.).
	* src/Makefile.am: automake fixes.
	* src/balsa-index.[hc]: remove dead code. add prototypes.
	* src/balsa-mblist.[hc]: disconnect properly non-relevant MbNodes.
	* src/balsa-message.c: make preferred_part() static.
	* src/folder-conf.c: disconnect signals on MbNode removal (#61691).
	
2001-10-02  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/address.c: fix esmtp=no build.
	* libbalsa/send.c: more verbose message on SMTP error.

	Peter Bloomfield:
	* libbalsa/identity.c: fix double click select&close (#61537).
	* src/balsa-mblist.c: fix D&D crash. (#61272).

2001-09-28  Carlos Morgado  <chbm@chbm.nu>

	* src/Makefile.am (balsa_IDL_SOURCES): previous form broke with 
	automake-1.5

2001-09-25  Pawel Salek  <pawsa@theochem.kth.se>

	Toralf Lund <toralf@kscanners.com> - handle distribution lists.
	* libbalsa/address-book-ldif.c: the bulk of the support. 
	* libbalsa/address-book.[hc]: addd libbalsa_address_is_dist_list() 
	to distinguish between ordinary addresses and distribution lists.
	* libbalsa/address.[hc]: add member_list and some conversion routines.
	* src/address-book.c: use address_is_dist_list().
	* src/balsa-index.c: cleanup using new address routines.
	* src/expand-alias.c: cleanup.
	* src/sendmsg-window.c: cleanup as well.

	Albrecht Dreﬂ's external body (#61156).
	* src/balsa-message.c: handle received external bodies.

2001-09-25  Pawel Salek  <pawsa@theochem.kth.se>

	* src/print.c:
	* src/sendmsg-window.c: Sun port (Steve Wall)
	* src/balsa-message.c: unrealize GtkFileSelection widget 
	returned by buggy ximian gtk+ builds (Peter Bloomfield).

2001-09-24  Pawel Salek  <pawsa@theochem.kth.se>

	* configure.in: don't detect LIBTOOL twice.
	* libbalsa/send.c: 
	* src/sendmsg-window.c: compile with --disable-esmtp.
	* src/balsa-index.c: remove guiding lines for flat index 
	(wil@dready.org).
	* libbalsa/identity.c: handle cancelling identity selection (wil).
	* src/toolbar-factory.c: add "empty thrash" to the legal main toolbar
	buttons list.

	replace forward "quoted" with forward "inline.
	
2001-09-22  Pawel Salek  <pawsa@theochem.kth.se>

	* src/main-window.c: make sure new mail button CAN_DEFAULT
	* src/sendmsg-window.c: fix warning due to prematurely realized widget.

	Nicolas Evrard <nicoe@wanadoo.be> - "next flagged" button.
	* src/balsa-icons.[hc]: add "next flagged" icons.
	* src/balsa-index.c: implement select_next_flagged().
	* src/main-window.c: "next flagged" menu callbacks.
	* src/message-window.c: ditto.
	* src/toolbar-factory.c:
	* src/toolbar-prefs.c: add the button to the toolset.

	Peter Bloomfield  <PeterBloomfield@MindSpring.com>
	* libbalsa/message.h: add `flow' argument to various libbalsa_message_*
	* libbalsa/mime.[ch]: use `flow' to decide how to wrap lines.
	* libbalsa/misc.[ch]: add a number of *_rfc2646() functions.
	* libbalsa/send.c: set the `format=flowed' attribute in
	add_mutt_body_plain().
	* src/balsa-app.[ch]: add recognize_rfc2646_format_flowed,
	send_rfc2646_format_flowed and browse_wrap_length.
	* src/balsa-message.c: wrap lines for display according to prefs.
	* src/main-window.[ch]: defines update_view_menu(), used to
	synchronize the view menu to the prefs window.
	* src/pref-manager.c. user control over whether to reflow
	paragraphs in incoming `format=flowed' messages, and whether to
	generate outgoing `format=flowed' messages.
	* src/save-restore.c: save and restore wrap preferences.

	* src/sendmsg-window.[ch]: wrap lines for sending and for display
	accordingly to prefs.
	catch `Enter' keystrokes to trim trailing spaces, when generating a
	`format=flowed' message.
	
2001-09-23  Carlos Morgado  <chbm@chbm.nu>

	* src/sendmsg-window.c (quoteBody): make "forward quoted"
	quote

2001-09-22  Carlos Morgado  <chbm@chbm.nu>

	* configure.in: patch from wil <wil@dready.org>
	propagate --with-ssl=path to libmutt
	
2001-09-22  Pawel Salek  <pawsa@theochem.kth.se>

	* Makefile.am: fix --disable-nls build of tarball.
	* libbalsa/misc.[hc]: fix #60834: an ever-lasting MIME problem due
	to immortal gnome-mime bug.
	* libbalsa/files.c: continuation.
	* libbalsa/send.c: same.
	* src/print.c: same.
	
	Albrecht Dreﬂ's attachment forwarding and msg postpone patch (#60874).
	* libbalsa/body.c: MessageBody::mime_type always useful.
	* libbalsa/message.[hc]: implement libbalsa_message_save().
	* libbalsa/mime.[hc]: make process_mime_part() global.
	* libbalsa/send.c: postponing messages with attachments fixed.
	* src/balsa-app.h: add forward_attached field.
	* src/balsa-index.c: new forwarding UI code.
	* src/main-window.[hc]: same.
	* src/message-window.c: same.
	* src/main.c: add_attachment() API modified.
	* src/pref-manager.c: choose default forward method.
	* src/save-restore.c: s&r it.
	* src/sendmsg-window.[hc]: the meat of attachment forwarding code.
	
	Steve Wall <hitched97@myrealbox.com>:
	* src/balsa-icons.[hc]: reply_to_group toolbar icon.
	* src/balsa-index.[hc]: reply to grup UI modified.
	* src/balsa-mblist.c: enable/disable empty trash toolbar button.
	* src/main-window.c: empty trash toolbar button disable/enable.
	* src/toolbar-factory.[hc]: empty trash, reply group and close mbox
	buttons.
	* src/toolbar-prefs.c: continued.
	
2001-09-21  Abel Cheung  <maddog@linux.org.hk>

	* balsa.desktop: Rename zh_TW.Big5 -> zh_TW.

2001-09-20  Pawel Salek  <pawsa@theochem.kth.se>

	* src/folder-conf.c: do not disconnect already disconnected data
	(Peter Bloomfield).

2001-09-19  Pawel Salek  <pawsa@theochem.kth.se>

	* src/print.c: print no/selected/all headers (Albrecht Dreﬂ).
	* src/balsa-message.c: interpret mixed/alternative dispositions
	(#59998, Toralf Lund).

2001-09-19  Carlos Morgado  <chbm@chbm.nu>

	* src/balsa-index.c: propagate unread status to top parent,
	update style when index is created
	
2001-09-18  Pawel Salek  <pawsa@theochem.kth.se>

	* src/balsa-message.c: preview url in the status bar (Steve Wall
	<hitched97@myrealbox.com> + Albrecht Dreﬂ
	<albrecht.dress@arcormail.de>).

	Toralf Lund <toralf@kscanners.no>:
	* src/balsa-index.[hc]: thread expansion and collapsing (#60002).
	* src/main-window.c: menus for thread e&c (#57659).
	* src/sendmsg-window.c: message save when composing (#60176).
	
2001-09-18  Pawel Salek  <pawsa@theochem.kth.se>

	* README, NEWS, configure.in: well deserved 1.2.0 release.
	* src/sendmsg-window.c: hush gtk_file_selection warnings whenever
	possible (fixed for gtk+-1.2.9, remains for gtk+-1.2.10). 
	Fix memory leaks (Peter Bloomfield).
	
2001-09-17  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/mailbox.c: passing NULL mailbox to mailbox_destroy is 
	an error.
	* libbalsa/mailbox_imap.c: properly destroy the mailbox.
	* libbalsa/mailbox_maildir.c:
	* libbalsa/mailbox_mbox.c: chain up destroy.
	* src/main-window.c: 
	* src/balsa-mblist.c: second part of d&d fixes.
	* src/main.c: exit balsa. Carefully. (avoid referencing partially
	destroyed UI).

2001-09-17  Carlos Morgado  <chbm@chbm.nu>

	* src/balsa-mblist.c: Peter Bloomfield - when dnding
	selection goes back to source mailbox

2001-09-15  Peter Bloomfield <PeterBloomfield@MindSpring.com>

	* src/balsa-index.c: re-enable D&D target highlighting.
	* src/balsa-mblist.c: fix signed-unsigned comparison.
	
2001-09-14  Carlos Morgado  <chbm@chbm.nu>

	* TODO: 1.4 targets
	
2001-09-13  Pawel Salek  <pawsa@theochem.kth.se>

	* src/save-restore.c: fix #60293: preserve mailbox order.
	
2001-09-12  Pawel Salek  <pawsa@theochem.kth.se>

	* src/pref-manager.c: it is legal to call update_mail_servers() 
	when pref window is closed.
	
	Proper mailbox referencing by Peter Bloomfield 
	<PeterBloomfield@MindSpring.com>:
	* src/mailbox-node.c: ref and sink mailbox on create.
	* src/main.c: unref specials on exit.
	* src/save-restore.c: referencing special mailboxes.

2001-09-10  Carlos Morgado  <chbm@chbm.nu>

	* libbalsa/mailbox_pop3.c (libbalsa_mailbox_pop3_check): WorksForMe(tm)
	seems to work for other people too. looks nicer

2001-09-06  Carlos Morgado  <chbm@chbm.nu>

	* libbalsa/send.c: make gcc happier, make return of libbalsa_message_postpone
	safer

2001-09-06  Pawel Salek  <pawsa@theochem.kth.se>

	* src/main.c, src/sendmsg-window.c: fix couple of ugly warning in
	the code I have just commited.

2001-09-06  Carlos Morgado  <chbm@chbm.nu>

	* src/sendmsg-window.c: removed autopostpone_message_cb. no longer
	needed

2001-09-06  Pawel Salek  <pawsa@theochem.kth.se>

	* configure.in: add -Werror for CVS users.
	* libbalsa/mailbox_pop3.c: Melanie's fix for ugly problem.
	* libbalsa/send.c: do not use unintialized vars.
	* src/main-window.c: send delete signal when quit requested.
	* src/Makefile.am: remove empty main.h from the file list.
	* src/sendmsg-window.[ch]: message saving-on-quit support.
	* src/expand-alias.c, src/information-dialog.c:
	* src/toolbar-factory.c, src/toolbar-prefs.c: don't include main.h
	* src/main.c: clean up the cleanup on exit code.

2001-09-05  Carlos Morgado  <chbm@chbm.nu>

	* src/sendmsg-window.c (postpone_message_cb): don't destroy the
	message if postpone fails

	* libbalsa/send.c: patch from Anders Larsen <bulk@alarsen.net> 
	to permit draftbox on imap. same juju as imap on ...
	clean a couple of (void *)0
		
	* src/main-window.c: MENU_FILE_PRINT_POS was defined twice. eek.

2001-09-04  Carlos Morgado  <chbm@chbm.nu>

	* src/folder-conf.c: unbreak folder set config window 

2001-09-04  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/message.c: initialize LibBalsaMessage::dispnotify field.
	* src/pref-manager.c: automatic scrollbars in the servers window.

2001-09-01  Wang Jian  <lark@linux.net.cn>

	* configure.in(ALL_LINGUAS): Changed from zh_CN.GB2312 to zh_CN

2001-08-31  Pawel Salek  <pawsa@theochem.kth.se>

	* src/main-window.c, src/sendmsg-window.c: add some shortcuts (#57657).
	
2001-08-31  Pawel Salek  <pawsa@theochem.kth.se>

	* README, NEWS, configure.in: release balsa-1.2.pre3
	* src/sendmsg-window.c: some people believe English means American
	English.
	
2001-08-31  Carlos Morgado  <chbm@chbm.nu>

	* libbalsa/send.c: not trigger #59671. fix in 1.3

2001-08-30  Carlos Morgado  <chbm@chbm.nu>

	* src/balsa-index-threading.c: 
	* src/filter-edit-callbacks.c: indentation ;)	

	* configure.in: removed TEMPORARILY --with-sasl for 1.2

2001-08-29  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/pop3.c:  case-insensitive handling of server answers.
	(Brian Stafford)
	* src/main-window.c: selective mailbox check fix (Toralf Lund).
	* src/balsa-message.c: clean up URL handling code (Albrecht Dreﬂ).

2001-08-28  Matthew Guenther  <guentherm@asme.org>

	* src/sendmsg-window.h: make read_widget array bigger for postpone
	menu/toolbar items.
	* src/sendmsg-window.c: return check for send sanity to include
	postponement, check from field in addition to to field to
	determine sendability.

2001-08-28  Carlos Morgado  <chbm@chbm.nu>

	* libbalsa/mailbox_pop3.c: fix descriptor leak

2001-08-28  Pawel Salek  <pawsa@theochem.kth.se>

	Brian Stafford <brian@stafford.uklinux.net> ESMTP TLS patch extended.
	* acconfig.h: rename 
	HAVE_SMTP_STARTLS->HAVE_SMTP_TLS_CLIENT_CERTIFICATE
	* configure.in: use renamed #define.
	* libbalsa/address-book-ldap.c: add <sys/time.h>
	* libbalsa/message.[ch]: add tls_mode flag to message_send.
	* libbalsa/misc.h: add tls_mode flag to process queue.
	* libbalsa/pop3.c: simplify getaddrinfo() part.
	* libbalsa/send.c: enable/disable TLS.
	* src/balsa-app.[hc]: certificate_passphrase field.
	* src/balsa-message.c: pass user TLS choice to libbalsa_message_send().
	* src/pref-manager.c: configure TLS and the passphrase.
	* src/save-restore.c: save and restore TLS settings.
	* src/sendmsg-window.c: use TLS setting to libbalsa_message_send().
	* README: some instructions.

	Melanie Thielker <balsa@t-data.com> recently-used mailbox (MRU)
	patch.
	* src/balsa-app.[hc]: folder_mru and drag_default_is_move fields.
	* src/balsa-index.c: populate transfer menu with MRU list.
	* src/balsa-mblist.c: disconnect mailbox signals on destroy. 
	Use default Move/Copy action.
	* src/main-window.c: restore all headers option before saving.
	* src/message-window.c: populate Move menu with MRU list.
	* src/pref-manager.c: configure default d&d action.
	* src/save-restore.c: save&restore default d&d action.
	
2001-08-27  Pawel Salek  <pawsa@theochem.kth.se>

	* src/sendmsg-window.c: fix ##59535 introduced two days ago.

2001-08-25  Pawel Salek  <pawsa@theochem.kth.se>

	* configure.in: clean up and fix; check if libESMTP has TLS
	* libbalsa/Makefile.am: remove duplicate compiler options.
	* libinit_balsa/Makefile.am: 
	* src/Makefile.am: Same.
	* src/filter-edit-callbacks.c: 
	* src/balsa-app.h: last signed-unsigned comparisons removed.
	* libbalsa/address-book-ldif.c: remove redundant assignment
	(spotted by Steve Wall <hitched97@myrealbox.com>).
	* libbalsa/send.c: enable TLS in SMTP whenever possible.
	* src/main-window.c: don't imap_check_test() NULLs.
	* Makefile.am: clean up versioning.
	* balsa.spec.in: replace BALSA_SHORT_VERSION-> BALSA_VERSION

	SMTP TLS support by Brian Stafford.
	* acconfig.h:  add HAVE_SMTP_STARTLS 
	* src/balsa-app.[hc]: add smtp_certificate_passphrase field.
	* src/pref-manager.c: configure passpahrase.
	* src/save-restore.c: save and restore it.
	
2001-08-24  Pawel Salek  <pawsa@theochem.kth.se>

	Clean up using hints from Morten Welinder <terra@diku.dk>
	* configure.in: test warning options recognized by gcc.
	* libbalsa/address-book-ldap.c:
	* libbalsa/address-entry.[hc]:
	* libbalsa/misc.c: 
	* libbalsa/pop3.c:
	* src/balsa-app.h: 
	* src/balsa-mblist.c:
	* src/balsa-message.c:
	* src/pref-manager.c:
	* src/sendmsg-window.c: fix signed-unsigned comparisions.

	* libbalsa/mailbox_pop3.c:  use g_strerror() instead of sys_errlist[]

2001-08-23  Carlos Morgado  <chbm@chbm.nu>

	* src/mailbox-conf.c: remove pop3s

2001-08-23  Pawel Salek  <pawsa@theochem.kth.se>

	* configure.in, NEWS, README: release 1.2.pre2

2001-08-23  Pawel Salek  <pawsa@theochem.kth.se>

	* src/balsa-index.c: do not crash when there is an index without 
	associated mailbox_node (Peter Bloomfield).
	* src/main.c, src/threads.h: remove not used appbar_lock mutex.
	* libbalsa/mailbox_imap.c: fix crash on multiple deletion of 
	IMAP mailboxes.
	* libbalsa/address-entry.c: don't free useful values on Ctrl-K.

	Albrecht Dreﬂ - protocol handlers improvements:
	* libbalsa/message.[hc]: remove libbalsa_message_get_text_content().
	* libbalsa/mime.[hc]: improve process_mime_part() instead.
	* src/balsa-app.h: add support for stripping HTML.
	* src/pref-manager.c: modification in preferences...
	* src/save-restore.c: ... and saving and restoring.
	* src/sendmsg-window.c: strip HTML if requested.

2001-08-22  Carlos Morgado  <chbm@chbm.nu>

	based on patch from M . Thielker <balsa@t-data.com>
	* src/main-window.c: 
	* libbalsa/mailbox_pop3.c: 
	* libbalsa/mailbox_pop3.h: 
	use tmp mbox to download files and copy them to inbox. 
	allows inbox in imap.

2001-08-21  Pawel Salek  <pawsa@theochem.kth.se>

	Ali Akcaagac <ali.akcaagac@stud.fh-wilhelmshaven.de>'s patch:
	* src/pixmap/*.xpm:
	* src/balsa-icons.[hc]: clean up code; replace old icons with new 
	versions.

2001-08-20  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/address-entry.c: fix some memory leaks.
	* libbalsa/folder-scanners.c (libbalsa_scanner_imap_dir): free state.
	* src/main-window.c : streamline the mailbox checking code. (Peter B).
	* src/store-address.c: fix memory leak (Ali Akcaagac).
	* src/folder-conf.c: Peter Bloomfield's patch cleaning the code.
	
2001-08-19  Carlos Morgado  <chbm@chbm.nu>

	* src/folder-conf.c: 
	* src/mailbox-conf.c: 
	(based on Peter Bloomfield's patch) change port when SSL
	is toogled
	
2001-08-19  Carlos Morgado  <chbm@chbm.nu>

	* libbalsa/server.c: fix to signal marshaller when not using SSL
	spoted by Manuel A. McLure <manuel@mclure.org>

2001-08-19  Carlos Morgado  <chbm@chbm.nu>

	* acconfig.h:
	* configure.in: USE_SSL
	
	* src/mailbox-node.c: 
	* libbalsa/folder-scanners.c: generate imaps paths 
	* src/mailbox-conf.c: 
	* src/folder-conf.c: ssl toogle in mbox config dialogs
	* libbalsa/server.h: 
	* libbalsa/server.c: 
	* libbalsa/mailbox_imap.c: know about ssl

	Merged patch from Manuel A. McLure <manuel@mclure.org> and myself.
		
2001-08-17  Carlos Morgado  <chbm@chbm.nu>

	* src/save-restore.c: 
	* src/balsa-mblist.c: 
	* src/balsa-index.c: 
	* src/balsa-app.c: 
	* src/balsa-app.h: 
	Peter Bloomfield: cleanup to mblist
	Ali Akcaagac: cleanup to mblist, remember size column width
	
2001-08-16  Carlos Morgado  <chbm@chbm.nu>

	* libbalsa/send.c: patch from Manuel McLure <manuel@mclure.org>
	to use mailbox->url instead of reconstructing it

	* src/store-address.c: fix from Ali Akcaagac to yesterday's
	patch

2001-08-15  Pawel Salek  <pawsa@theochem.kth.se>

	Ali Akcaagac <ali.akcaagac@stud.fh-wilhelmshaven.de> - fix some
	address book issues, including organization handling.
	* libbalsa/address-book-vcard.c: don't save empty fields.
	* libbalsa/address.[hc]: add middle-name.
	* src/store-address.c: parse for middle name.

2001-08-14  Pawel Salek  <pawsa@theochem.kth.se>

	PeterBloomfield@MindSpring.com>:
	* src/mailbox-conf.c: rescan from higher up the tree after deleting 
	an IMAP mailbox.
	* libbalsa/notify.[hc]: use a callback to test if a mailbox should be
	checked for mail or not.
	* src/main-window.c: provide imap_check_test() determining if
	given IMAP mailbox should be checked for new mail.

	* src/print.c: Paper selection implemented (Albrecht Dreﬂ).
	
2001-08-13  Pawel Salek  <pawsa@theochem.kth.se>

	Take care of #53566. Steve Wall <hitched97@myrealbox.com>.
	(treated as bug fix, not a new feature).
	* libbalsa/address-book-ldif.{h,c}: LDIF support.
	* libbalsa/Makefile.am: add address-book-ldif.{h,c}
	* libbalsa/libbalsa.[hc]: register LibBalsaAddressBookLdif type.
	* src/address-book-config.c: add LDIF configuration support.
	* src/address-book.c: list full name instead of Ids.
	* src/pref-manager.c: recognize LDIF address book type.

	* src/main-window.c: remove debugging output.
	* help/C/balsa.sgml: information on forcing alias expansion.
	* src/balsa-index-threading.c: fix msg threading 
	(Andrew Ferguson <andrew@owsla.cjb.net>).

2001-08-11  Pawel Salek  <pawsa@theochem.kth.se>

	* help/C/balsa.sgml: update LDAP-related tips.
	* libbalsa/address-book-ldap.c: add timeout, clean up code.
	* src/address-book-config.c: add keyboard shortcuts.
	* src/balsa-app.[hc]: add a default value to create_check().
	* src/mailbox-conf.c:
	* src/folder-conf.c: use new create_check() API.
	
	
2001-08-11  Carlos Morgado  <chbm@chbm.nu>

	* src/expand-alias.h: expand_alias_find_match() proto fixup

2001-08-11  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/address-book.[hc]: distinguish fast and slow=expensive
	address books.
	* libbalsa/address-book-ldap.c: is_expensive = TRUE
	* libbalsa/address-entry.[hc]: attempt to fix cursor jumping.
	char_offset[] was read out of range (probably related to #52902)
	Support for Ctrl-R to look up expensive address books.
	* src/balsa-index.c: append dots when showing multiple recipents
	in the msg index. Clean up.
	* src/expand-alias.c: expand_alias_find_match() can do now fast or
	expensive lookups.
	
2001-08-10  Pawel Salek  <pawsa@theochem.kth.se>

	* configure.in: --with-iconv configure option (Brian Stafford)
	* src/balsa-index-threading.c: clean-up.
	* src/balsa-index.c: fix #57659.
	* src/balsa-message.c: add missing mailto: protocol handler.
	* src/main.c: move URL parsing code to src/sendmsg-window.c
	* src/sendmsg-window.[hc] : new location of URL parsing code.
	* src/main-window.c: set paned size when mblist is not shown
	(Melanie Thielker).
	

2001-08-09  Pawel Salek  <pawsa@theochem.kth.se>

	* src/main-window.c:
	* libbalsa/send.c: clean up the sending progress dialog.
	
2001-08-08  Pawel Salek  <pawsa@theochem.kth.se>

	* README: clarify the print page size syntax.
	* src/balsa-message.c: Albrecht Dreﬂ <albrecht.dress@arcormail.de>
	speedup and clean up of the URL code. + some bug fixes.

	* balsa.spec.in: don't pass CFLAGS to libmutt, it's enough to pass
	the flags to configure script.
	* NEWS, onfigure.in: bump version number to 1.2.pre2
	

2001-08-07  Pawel Salek  <pawsa@theochem.kth.se>

	* src/balsa-index.c: fix #58642: closing mailbox after idle
	callback has been registered but before the mailbox preview had
	time to update.

	Peter Bloomfield <PeterBloomfield@MindSpring.com> "imap servers
	in preferences" patch:
	* src/folder-conf.c: update_mail_servers() when needed.
	* src/mailbox-conf.c: same.
	* src/pref-manager.c: the server enumeration and edition support.
	
2001-08-06  Pawel Salek  <pawsa@theochem.kth.se>

	* Makefile.am: tar's I option is obsolete, use j.
	* src/main.c: gconf_init returns GError instead of GConfError 
	as of GConf-1.0.
	* libbalsa/mailbox_imap.c (imap_delete_folder): unsubscribe
	mailbox before deletion.
	* libbalsa/filter-private.h:
	* libbalsa/filter.h: regexps are private to filters.
	* src/mailbox-node.c: remove memory leak and clean up the code.

2001-08-03  Pawel Salek  <pawsa@theochem.kth.se>

	* src/balsa-app.c: walk over the mailbox_nodes tree in the 
	POST_ORDER sequence.
	
2001-08-01  Pawel Salek  <pawsa@theochem.kth.se>

	* help/C/balsa.sgml: documentation updates (Peter Bloomfield).

	Introduce URL field for mailbox to uniquely identify it.
	* libbalsa/mailbox.[hc]: add url field.
	* libbalsa/mailbox_imap.[hc]: use url field.
	* libbalsa/mailbox_local.[hc]: remove redundant path field.
	* libbalsa/mailbox_maildir.c: do not use removed path field.
	* libbalsa/mailbox_mbox.c: same.
	* libbalsa/mailbox_mh.c: same.
	* libbalsa/notify.c: use URL field.
	* libbalsa/send.c: do not use removed path field.
	* src/balsa-app.c: same.
	* src/balsa-icons.[hc]: add icons for draftbox and sentbox.
	* src/balsa-mblist.c: use new icons.
	* src/folder-conf.c: same.
	* src/mailbox-conf.c: do not use removed path field.
	* src/mailbox-node.c: same.

	* libbalsa/folder-scanners.c: make the output less verbose.
	* src/balsa-app.c: remove duplicated mailboxes in local tree.
	* src/mailbox-node.c: use the URL power to place special mailboxes
	in proper places of the folder tree.
	* src/pref-manager.c: show list widget so it can compute its size
	properly (Albrecht Dreﬂ).
	
2001-07-31  Pawel Salek  <pawsa@theochem.kth.se>

	* src/main-window.c: menu entry for message view source.
	* libbalsa/Makefile.am: add source-viewer.c
	* libbalsa/libbalsa.h: add libbalsa_show_message_source() header.
	* libbalsa/source-viewer.c: the actual code for message source
	browsing.
	* libbalsa/folder-scanners.c: do not double free regex.
	
2001-07-28  Pawel Salek  <pawsa@theochem.kth.se>

	* src/address-book.c: do not crash on changing distribution mode
	when there is no address book.

2001-07-27  Pawel Salek  <pawsa@theochem.kth.se>

	Make balsa compile with --disable-threads and --disable-nls
	* configure.in: AM_GNU_GETTEXT -> AM_GNOME_GETTEXT
	* libbalsa/send.c: fix non-MT build.
	* src/main-window.c: fix non-MT build.
	* src/main.c: fix non-NLS build.

	* help/C/balsa.sgml: some basic info about different mailbox types.
	More inline text is needed.
	* src/folder-conf.c: folder fixes from Peter Bloomfield.
	* src/information-dialog.c: break lines for status.

2001-07-25  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/pop3.c: use pclose() on popen()-ed FILE.
	* src/toolbar-factory.c: ugly but reliable toolbar clearing.
	* src/sendmsg-window.c: release_toolbar on destroying.
	
	Albrecht Dreﬂ <albrecht.dress@arcormail.de>:
	* src/balsa-index.c: justify the message size to right.
	* src/main.c: set locale.
	* src/spell-check.c: use new PCRE to handle national characters
	better.

2001-07-24  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/misc.c(libbalsa_set_charset): set SendCharset as well.
	* libbalsa/identity.c: remove testing uninitialized variable.
	* libbalsa/mailbox_local.c: squash unitialized variable warning.
	* src/balsa-app.[hc]: persistent threading_type.
	* src/balsa-index.c: use persistent threading type.
	* src/save-restore.c: save and restore it.

	* src/balsa-message.c: Albrecht Dress
	<albrecht.dress@arcormail.de>: RE updates + #55548 fix. Emmanuel
	<e.allaud@wanadoo.fr>: correct find_beg_and_end() in the corner
	case when str+pos points on a \n.

	* src/main-window.c: update threading_type to mirror menu settings.
	* src/address-book-config.c: squash unitialized variable warnings.
	* src/mailbox-node.c: same.
	* src/sendmsg-window.c: same.

	* src/toolbar-factory.c:  M . Thielker <balsa@t-data.com> + me:
	do not make assumptions about GtkToolbar structure. Add more
	comments.

	* configure.in: do not include -lesmtp twice.
	
2001-07-23  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/send.c: the send mail progress dialog (Brian Stafford
	<brian@stafford.uklinux.net>). 

	Configurable page scrolling step by Lynn Kerby <lfk@kerbit.net>
	* src/balsa-app.[hc]: add pgdownmod and pgdown_percent fields.
	* src/balsa-message.c: use them.
	* src/pref-manager.c: and configure...
	* src/save-restore.c: and save&restore.
	
2001-07-21  Carlos Morgado  <chbm@chbm.nu>

	* configure.in: fix sasl reporting
	patch from Ali Akcaagac to check from balsa-enable libesmtp

2001-07-20  Pawel Salek  <pawsa@theochem.kth.se>

	* libbalsa/Makefile.am: add missing PCRE_CFLAGS.
	* src/balsa-app.[hc]: remove balsa_message_{move,copy} wrappers.
	* src/balsa-index.c: use libbalsa functions instead of wrappers.
	* src/balsa-mblist.[hc]: remove crap. allow mailbox selection without
	opening.
	* src/main-window.c: fix "all headers" toolbar button handlers.
	* src/toolbar-factory.[hc]: use TOOLBAR_ enums instead of magic ints.
	* src/message-window.c: same.
	* src/sendmsg-window.c: same.

2001-07-19  Pawel Salek  <pawsa@theochem.kth.se>

	* AUTHORS: update Ian Campbell's address.
	* INSTALL: add info about gnome-print, libESMTP and pcre.
	* src/balsa-mblist.c: fix hotspot calculation with shown headers
	M. Thielker <balsa@t-data.com>
	* src/spell-check.c: fix regexp's.
	* src/toolbar-factory.c: fix hit translations.

2001-07-18  Carlos Morgado  <chbm@chbm.nu>

	* configure.in:
	* acconfig.h: USE_SASL

	* libbalsa/send.c: new libmutt/rfc2047

	* libbalsa/mailbox_imap.c: 
	* libbalsa/folder-scanners.c: removed ImapCRAM. was it ever used ?

2001-07-18  Pawel Salek  <pawsa@theochem.kth.se>

	Perl Compatible Regular Expressions by 
	Albrecht Dreﬂ <albrecht.dress@arcormail.de>:
	* acconfig.h: add HAVE_PCRE
	* configure.in: look for PCRE library.
	* src/Makefile.am: add PCRE_CFLAGS flags to CFLAGS and libs to
	LIBS.
	* src/quote-color.[hc]: make is_a_quote() take const regex()
	* src/spell-check.c: use PCRE.
	* libbalsa/filter.h: same.

	* libbalsa/send.c: fix BCC handling 
	(Brian Stafford <brian@stafford.uklinux.net>).

	* src/main-window.c: add shortcut to customize.
	* src/toolbar-prefs.c: get rid of _usize().
	* po/POTFILES.in: add missing files.
	
2001-07-16  Pawel Salek  <pawsa@theochem.kth.se>

        IMAP flag handling and new mail notification
	(balsa-imapflags.patch) by M. Thielker <balsa@t-data.com>
	with minor some changes.
	* sounds/balsa.soundlist, sounds/email.soundlist:
	add German descriptions.
	* src/balsa-app.[hc]: add notify_new_mail_sound,
	notify_new_mail_dialog, check_imap, check_imap_inbox fields.
	* src/balsa-index.c: implement new message notification scheme.
	* src/main-window.[hc]: second part.
	* src/pref-manager.c: configure new mail notification scheme.
	* src/save-restore.c: save its data and restore it.

	* src/toolbar-prefs.[hc]: fix translating strings.
	* src/balsa-message.c: set wmclass of "Save MIME Part" dialog.
	
2001-07-16  Carlos Morgado  <chbm@chbm.nu>

	* src/toolbar-prefs.c: fix make with pedantic options

2001-07-16  Pawel Salek  <pawsa@theochem.kth.se>

	Peter Bloomfield's <bloomfld@eos.ncsu.edu> IMAP mailbox rename
	patch.
	* libbalsa/mailbox_imap.[hc]: libbalsa_imap_rename_subfolder() added.
	* src/folder-conf.[hc]: (sub)folder rename support.
	folder_conf_imap_sub_node() made global.
	* src/mailbox-node.c: add IMAP mailbox deletion support.
	* help/C/balsa.sgml: help for this all.
	
2001-07-15  Pawel Salek  <pawsa@theochem.kth.se>

	all-bars3.patch from M. Thielker <balsa@t-data.com>
	* src/Makefile.am: add toolbar-prefs.[hc] and toolbar-factory.[hc]
	* src/balsa-app.h: add toolbar_count, toolbar_ids, toolbars and
	toolbar_wrap_button_text fields.
	* src/balsa-icons.[hc]: add flag_new.xpm and mark_all.xpm and 
	all_headers.xpm
	* src/main-window.c: switch to new customizable toolbars.
	* src/message-window.c: same.
	* src/sendmsg-window.c: same.
	* src/pixmaps/all_headers.xpm:
	* src/pixmaps/flag_new.xpm: 
	* src/pixmaps/mark_all.xpm: add pixmaps.
	* src/print.c: add extra warning function when gnome-print
	unavailable.
	* src/save-restore.c: save/read toolbars.
	* src/toolbar-factory.[hc]: implement toolbar creation.
	* src/toolbar-prefs.[hc]: implement toolbar configuration.
	
2001-07-14  Pawel Salek  <pawsa@theochem.kth.se>

	* src/main-window.c: add menu shortcut for identities.
	* src/save-restore.c: remove from the config files removed identities.
	* src/sendmsg-window.c: add menu shortcuts.
	* libbalsa/identity.c: fix focus issues, memory leaks. 
	
2001-07-13  Pawel Salek  <pawsa@theochem.kth.se>

	* README, NEWS, configure.in: release balsa-1.1.7
	* src/sendmsg-window.[hc]: use identity data to select
	signature (christophe barbe <christophe.barbe.ml@online.fr>).
	* balsa.1.in: add information about recently added command line
	options.


Fri Mar 19 03:32:49 1999  Timur Bakeyev  <mc@bat.ru>

	* src/Makefile.am: Change set of "GNOMEUI_LIBS -lgnorba ORB_LIBS" to 
	GNOMEGNORBA_LIBS, which is more correct and clean. And prevent from 
	linker errors.

1999-02-24  Sergey Panov  <sipan@mit.edu>

        * src/filter-edit-dialog.c, src/pref-manager.c:
        added missed _() macros

1999-02-11  Sergey Panov  <sipan@mit.edu>

	* src/main.c, src/Makefile.am: turn on internationalization

1999-02-01  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* src/filter-edit-dialog.c (build_left_side): pass it a
	GtkWidget ** parameter to get the clist pointer in.
	(build_right_side): accept a GtkWidget * parameter in order
	to pass it a clist for apply/revert callbacks userdata.
	(filter_edit_dialog): utilize the above.
	* src/filter-edit-callbacks.c (unique_filter_name): actually
	increment row.
	
1999-01-20  Nat Friedman  <nat@nat.org>

	* src/pref-manager.c (open_preferences_manager): Connect the help
 	signal of the GnomePropertyBox to gnome_help_pbox_display.

1999-01-19  Jeff Garzik  <jgarzik@pobox.com>

	* src/balsa-app.c, src/balsa-init.c, src/filter-edit-dialog.c,
	  src/index-child.c, src/mailbox-conf.c:
	Renamed deprecated Gtk+ functions.

1999-01-18  bertrand <Bertrand.Guiheneuf@inria.fr>

	* src/save-restore.c: add a new property key
	("ShowMailboxContentInfo")

	* src/pref-manager.c: add a preference item
	(show/hide mailbox content information)

	* src/balsa-mblist.c (balsa_mblist_redraw): 
	(balsa_mblist_init): 
	show/hide the clist colums titles depending on the pref 
	setting.
	
	* src/balsa-mblist.c (balsa_mblist_class_init): cntent
	information disabled for the moment. 
	New argument ("show_content_info") to th emblist 
	object. Have to store it in the prop list. 

1999-01-15 bertrand <Bertrand.Guiheneuf@inria.fr>

	* src/index-child.c (index_button_press_cb): new function
	to handle double click properly regarding to new gtk+ 
	code.
	(index_select_cb): no more double click handling code.
	(index_child_create_view): connect scrolled windows
	adjustments to the canvas adjustments.
	Set the step increment.

1999-01-14  bertrand <Bertrand.Guiheneuf@inria.fr>

	* src/mblist-window.c (mblist_open_window): take the 
	"MailboxListHeight" into account.
	* src/save-restore.c (config_global_save): new property:
	"MailboxListHeight"
	(config_global_load): idem.
	* src/balsa-app.h: new kember to store the mailbox list height.
	(useful only when the window is floatting)

	* src/mblist-window.c 
	(mblist_menu_open_cb): 
	(mblist_menu_close_cb): 
	src/main-window.c (mailbox_menu): two new items to open/close 
	a selected mailbox from the menubar.

1999-01-14  bertrand  <Bertrand.Guiheneuf@inria.fr>

	* src/mblist-window.c (mb_close_cb): new func
	(mblist_create_context_menu): new context menu item: close the mb.

	* src/mblist-window.c (mblist_create_context_menu): 
	s/mblist_create_menu/mblist_create_context_menu
	(mblist_create_context_menu): new context menu item (open mailbox)
	(mb_open_cb): corresponding callback.
	(mblist_open_mailbox): new func. Use this to open a mailbox.
	
	* src/mblist-window.c (mblist_button_press_cb): 
	removed the mblist_clicked_cb function and replaced it by this new one.
	All mouse press events are handled in this callback now. Before this, 
	things were not very clear. For example, the double-click left button
	was handled in the mailbox_select callback. 
	

1999-01-13  bertrand  <Bertrand.Guiheneuf@inria.fr>

	* src/mailbox-conf.c (mailbox_conf_delete): bug when removing 
	the firts pop mailbox. Fix submitted by Ian Campbell <ijc25@cam.ac.uk>

	* src/main.c (config_init): commented out the return keyword after
	.balsarc initialisation. It prevented the config to be loaded and
	in particular the mailbox list window size to be set correctly
	when a .balsarc did not exist.

	* src/mblist-window.c (mblist_clicked_cb): new function to handle 
	contextual menus more precisely and in particular, allowing the menu
	to appear even when the mouse does not click on one mailbox row.

1999-01-12  bertrand  <Bertrand.Guiheneuf@inria.fr>

	* src/filter-edit-callbacks.c 
	* src/mailbox-conf.c 
	* src/pref-manager.c : 
	s/gtk_toggle_button_set_state/gtk_toggle_button_set_active/
	to conform to changes in gtk+.
	
1999-01-11  bertrand  <Bertrand.Guiheneuf@inria.fr>

	
	* src/mblist-window.c (mblist_drag_data_received): check if the source
	mailbox is not the dest mailbox.
	(mblist_drag_motion): when the drag pointer is not on a valid row, 
	deselect all.
	(mblist_drag_leave): when the drag pointer leave the window, unselect all

	* removed the dnd trace
	
	* src/index-child.c (index_child_setup_dnd): changed the drag icon
	(index_child_create_view): unset "use_drag_icons" & "reorderable"
	clist flags. 

	* src/pref-manager.c (apply_prefs): replyto field chages were
	not saved. fixed.

	* src/index-child.c src/mblist-window.c : add some dnd trace code
	cause dnd does not work anymore.

	* src/sendmsg-window.c (sendmsg_window_new): bugfix when replying
	to a message with subject begining with Re:

1999-01-11  bertrand  <Bertrand.Guiheneuf@inria.fr>

	added the code to commit the changes which are flagged (generally
	deletion). The code is OK, but some general issues remain to be fixed.
	(in particular, the problem which open_unref automatically syncing
	mailboxes and thus freeing delete-flagged messages )
	
	* src/main-window.c (mailbox_commit_changes): new menu for this
	("Mailboxes" -> "commit current")
	
	* libbalsa/mailbox.c (mailbox_commit_flagged_changes): new function to 
	commit the changes which are only flagged.

	* src/balsa-index.c (balsa_index_del): new functino to delete a message
	from the index list.
	(mailbox_listener): proper answer to the delete watcher message.

1999-01-10  bertrand  <Bertrand.Guiheneuf@inria.fr>

	added the code to view infos about the mailboxes in the mailbox list
	it roughly works but the possibility to show or not show info fields
	must still be added.
	
	* src/balsa-mblist.c (balsa_mblist_set_row_info_fields): new function
	to display informations about a mailbox.
	(balsa_mblist_release_watchers): free the list of mailbox the mailbox
	list is watching.
	(balsa_mblist_add_watched_mailbox): add a mailbox to the list of
	watched mailboxes.
	(balsa_mblist_redraw): when creating the mailbox row, add the info fields
	(mailbox_nodes_to_ctree): idem on normal mailboxes.
	(mailbox_listener): when notified there is a change, upadte the
	information field of the concerned row.

	* libbalsa/mailbox.c: new function (mailbox_gather_content_info)
	the name tells everything about it.
	(message_copy): update the mailbox info fields
	(message_move): idem
	(message_read): idem
	(message_unread): idem
	(mailbox_check_new_messages): idem

	* libbalsa/mailbox.h: added the unread_message field.
	also added the total_messages field.
	
1999-01-08  bertrand  <Bertrand.Guiheneuf@inria.fr>

	* src/balsa-mblist.c (balsa_mblist_redraw): start to add 
	mailbox info in the mailbox list window (number of  messages, 
	number of unread messages). This should be configurable cause
	I guess not everybody likes this. 

1999-01-08  Nat Friedman  <nat@nat.org>

	* src/main-window.c (settings_menu): No separator before
 	Preferences.

	(main_menu): Added N_() around "Message" and "Mailboxes"

1999-01-08  bertrand  <Bertrand.Guiheneuf@inria.fr>

	* src/index-child.c (index_child_new): when the mailbox
	already exists, set it as the active view. 

1999-01-08  bertrand  <Bertrand.Guiheneuf@inria.fr>

	messages can be moved even when the destination is already 
	opened :-))
	
	* libbalsa/mailbox.h: added a new mailbox watcher message 
	to tell a watcher a message has been appended but that it is 
	not a new message.

	* libbalsa/mailbox.c (send_watcher_append_message): new function 
	to send an APEND message.
	(message_copy): send an append message to the dest mailbox
	(message_move): idem.
	(_mailbox_open_ref): when the mailbox was already opened but not
	in append mode, close it first.

1999-01-08  Nat Friedman  <nat@nat.org>

	* src/message-window.c (forward_message_cb): Get the messagewindow
 	from the window's gtk data.
	(replytoall_message_cb): Likewise.

1999-01-08  Nat Friedman  <nat@nat.org>

	* src/sendmsg-window.c (file_menu): Standardized.

	(close_window): Fixed signature.
	(send_message_cb): Likewise.
	(attach_clicked): Likewise.
	(close_window): Likewise.
	(attach_dialog_cancel): Likewise.

1999-01-08  Nat Friedman  <nat@nat.org>

	* src/message-window.c: Include sendmsg-window.h and message-window.h
	Added a prototype for destroy_message_window.

	(message_menu): A new menu.
	(replyto_message_cb): Calback for the new menu.
	(replytoall_message_cb): Likewise.
	(forward_message_cb): Likewise.

	(message_window_new): gtk_object_set_data stores the
 	MessageWindow, not the window.

1999-01-08  Nat Friedman  <nat@nat.org>

	* src/main-window.c (APPBAR_KEY): Changed the PROGRESSBAR_KEY to
 	APPBAR_KEY.
	(main_window_set_cursor): Use the GnomeAppBar's progress meter.
	(main_window_init): Removed all the code to create a
 	GtkProgressBar.  Use the GnomeAppBar progress meter instead.

1999-01-07  Nat Friedman  <nat@nat.org>

	* src/index-child.c: Updated the copyright

1999-01-07  Nat Friedman  <nat@nat.org>

	* src/message-window.c: Updated the menu items for the message
 	window to reflect the standard.

	Added the 'message' field to the MessageWindow structure.

	Added the 'displayed_messages' hash table.

	(message_window_new): Check to see if the specified message is
 	already displayed, and if so, gdk_window_raise() the window
 	containing it.  If not, add it to the hash table.
	
	(destroy_message_window): Remove the hash-table entry
 	corresponding to this message window.

1999-01-07  Nat Friedman  <nat@nat.org>

	* src/main-window.c (main_menu): Updated to use the SETTINGS
 	standard menu, and moved Preferences back to there.

1999-01-07  Nat Friedman  <nat@nat.org>

	* src/main-window.c (app_created): Use the GnomeAppBar instead of
 	the GtkStatusBar.

1999-01-07  Nat Friedman  <nat@nat.org>

	* src/main-window.c (file_menu): Use GNOMEUIINFO_MENU_PREFERENCES_ITEM.
	(mailbox_menu): Added menu hints to the custom menu items.

1999-01-07  Nat Friedman  <nat@nat.org>

	* src/main-window.c (main_window_init): Install the menu hints.
	(show_about_box): Updated the copyright dates.

	Move the preferences menu item to the File menu.

1999-01-07  bertrand   <Bertrand.Guiheneuf@inria.fr>

	* libbalsa/mailbox.c (_mailbox_open_ref): unlock the mailbox even if
	it was already opened before.
	(message_move): test if we actually opened the mailbox or
	if it was opened before. When it was already opened, don't
	unref it.
	--> the dnd move works now, yeepeeh !

1999-01-07  Nat Friedman  <nat@nat.org>

	* src/main-window.c (help_menu): Use GNOMEUIINFO_MENU_ABOUT_ITEM
 	and the standard GNOMEUIINFO menu trees.

1999-01-06  Nat Friedman  <nat@nat.org>

	* src/main-window.c (file_menu): Use the GNOMEUIINFO standard menu
 	item for exit.

1999-01-06  Nat Friedman  <nat@nat.org>

	* src/main-window.c (file_menu): Use the gnome-uidefs.h macros.

1999-01-06  Nat Friedman  <nat@nat.org>

	* src/main-window.c (file_menu): Use Ctrl-Q as the exit-app
 	accelerator.

1998-12-28  bertrand  <Bertrand.Guiheneuf@inria.fr>

	* src/mblist-window.c (mblist_open_window): added the dnd reception
	callback.
	(mblist_drag_data_received): handle the received messages. For the 
	moment, when a list of messages is dropped on a mailbox, it is moved
	to that mailbox. Other actions should be easy to add.

	* src/index-child.c (index_child_create_view): moved the dnd code to
	a specific function : index_child_setup_dnd()
	(index_child_setup_dnd): new function.
	(index_child_drag_data_get): new function, pass the selected messages
	in the clist to the X selection mechanism. This should be reviewed by 
	a gtk+ expert. However, this does not work with the current version
	of gtk+ (1.1.9). I had to remove the dnd class functions in gtkclist
	to make all this work correctly.

	* src/balsa-index.c (balsa_index_get_selected_rows): added this function
	to get the currently selected messages. This is useful to the dnd stuff.

	* src/main-window.c (main_window_set_cursor): removed a warning

1998-12-27  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* src/main-window.c (destroy_window_cb): only save window size.
	attached to destroy signal of each app in app_create().
	(destroy_mdi_cb): call balsa_exit(). attached to mdi destroy signal.
	savin window size here makes no sense as mdi might not have an
	active_window on destruction!
	(app_created): set the pointer to pbar as data to each GnomeApp with
	key PROCESSBAR_KEY.
	(main_window_set_cursor): use the pbar set as data to the GnomeApp.
	using a global static var won't work if someone drags a page out
	to create multiple notebooks.

1998-12-26  bertrand <bertrand.guiheneuf@inria.fr>

	* src/mblist-window.[ch]: new files.
	* src/main-windo.c: moved the mailbox list window
	code to the new two above files.

	* src/balsa-message.c (balsa_message_new): corrected the bug
	that made some widget background white instead of their
	normal background.
	
	* src/sendmsg-window.c (create_info_pane): idem as above. 
	

1998-12-19  Joel Becker  <jlbec@ocala.cs.miami.edu>

	* src/filter-edit-dialog.c: Enabled the neat new dnd
 	reordering of the filter clist.  Yay.

1998-12-19  pavlov@pavlov.net

	Modified files:

        libbalsa       : misc.c misc.h 
        src            : balsa-mblist.c main-window.c 

	Log message:

	make mailbox folders closed by default.. will do saving of
	their status shortly

1998-12-18  Jeff Garzik  <jgarzik@pobox.com>

	* po/de.po: big update from Michael Glauche <glauche@plum.de>

1998-12-18  Jeff Garzik  <jgarzik@pobox.com>

	* libbalsa/mailbox.c, libmutt/commands.c, libmutt/curs_main.c,
	  libmutt/flaglib.c, libmutt/flags.c, libmutt/mutt.h,
	  libmutt/mx.c, libmutt/pager.c, libmutt/pattern.c:
	s/M_READ/MFLAG_READ/ - Solaris system defines M_READ

	* libbalsa/misc.c: call g_malloc instead of malloc, because we
	call g_free in the allocated memory later on.
	From wmorgan@syntony.org.
 
1998-12-17  Jeff Garzik  <jgarzik@pobox.com>

	* libmutt/sendlib.c:
	one-liner from wmorgan@syntony.org that fixes msg bodies w/o
	a trailing newline

1998-12-16  Jeff Garzik  <jgarzik@pobox.com>

	* src/pref-manager.c:
	Outgoing mail is now a table, allowing you to select
	'remote smtp server' or 'local mail agent' for mail delivery.
	Greyed out because it doesn't actually work yet.

1998-12-16  Joel Becker  <jlbec@ocala.cs.miami.edu>

	* libbalsa/filter-error.c, libbalsa/filter-file.c,
        libbalsa/filter-funcs.c, libbalsa/filter-private.h,
	src/filter-edit-callbacks.c, src/filter-edit-dialog.c:
	Lots of little things, especially gui workings.  It's not perfect yet.
	Nor is it working.  But it compiles clean, and should cause no harm.

1998-12-15  Jeff Garzik  <jgarzik@pobox.com>

	* src/pref-manager.c:
	Added protocol column to server list.

	* src/spell-check.[ch]:
	Spell checking module for mail compose window.

1998-12-15  Ettore Perazzoli  <ettore@comm2000.it>

	* src/main-window.c (refresh_main_window): Retrieve the toolbar
 	with `gnome_app_get_dock_widget_by_name()'.
	(mblist_open_window): Make the behavior of the dock item
 	`EXCLUSIVE'.  Use `gnome_app_add_dock_item' instead of
 	`gnome_dock_add_item()'.

	* src/sendmsg-window.c (sendmsg_window_new): Likewise.

1998-12-14  Stuart Parmenter  <pavlov@pavlov.net>

        ./	  : INSTALL README balsa.1 balsa.spec configure.in,
        po/	  : de.po es.po fi.po fr.po ga.po ko.po no.po,
        libbalsa/ : Makefile.am libbalsa.c mime.c send.c,
        idl/Makefile.am, sounds/Makefile.am, src/Makefile.am:
	- Now passes 'make distcheck'

        it.po:
	- added the italian translation.

1998-12-14  Jeff Garzik <jgarzik@pobox.com>

	* src/main-window.c:
	- Re-enabled Mailbox/Delete menu item; it takes into account lack
	  of selection now.
	- Updated for new gnome-dock-item-new args.

	* src/message-window.c:
	- Continued futile efforts to close the message window via
	  File/Close.

1998-12-14  Jeff Garzik <jgarzik@pobox.com>

	* libbalsa/mailbox.[ch]:
	Added simple IMAP support stubs.

	* src/main-window.c:
	- include mailbox-conf.h to avoid warnings.
	- Added menu items to add, edit, and delete mailboxes.
	- Corrected typo.
	- Pop up error dialogs if no item is selected, and edit/delete
	  is chosen.

	* src/message-window.c:
	- added menu to message window, just File|Close right now.

1998-12-13  Jeff Garzik <jgarzik@pobox.com>

	* src/main-window.c:
	- Exported 'mdi' var, so we can grab it from other modules.
	- Reordered check-new-mail action to check regardless of whether
	  we check locally or not.

	* src/pref-manager.c:
	- Properly parent the prop box, so it minimizes when other
	  windows are minimized.
	- Select first item in POP3 server list.
	  FIXME: needs to select "proper" item based on previous action, 
	  add, delete, and modify.
	- Internationalize a few strings.
	  Rename "POP3 Servers" frame to "Remote Mailbox Servers"

	* src/sendmsg-window.c:
	Change menu item "Exit" to "Close".  We do not exit the app.

1998-12-09  Herbert Valerio Riedel  <hvr@phoenix.twisted.hvrlab.ml.org>

	* src/filter-edit.h, libbalsa/filter-funcs.h: added missing prototypes
	* libbalsa/filter-funcs.c (filter_init): initialize var to shut up
	compiler

1998-12-12  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* src/main-window.c (app_created): connected set_icon() to
	realize signal handler for app as MDI does not explicitly
	realize GnomeApps anymore.
	
1998-12-10  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* src/sendmsg-window.c (attachments_add): Add drag and drop
	support for the attachments.

1998-12-09  Jeff Garzik  <jgarzik@pobox.com>

	* src/balsa-message.c, src/index-child.c:
	Fixed gnome-dialog-run-and-close breakage.

1998-12-08  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* src/index-child.c, src/balsa-message.c: changed gnome_dialog_set_modal()
	to gtk_window_set_modal() and use gnome_dialog_run_close() instead of
	gnome_dialog_run_and_hide() and gtk_widget_destroy(). 
	* main-window.c (refresh_main_window): DON'T use gnome_mdi_set_mode() to
	refresh display. this gets you into trouble and would look butt ugly anyway.
	
1998-11-29  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* src/sendmsg-window.c (create_info_pane): GnomeIconList no longer
	starts in frozen state.

1998-11-29  Herbert Valerio Riedel  <hvr@hvrlab.ml.org>

	* src/balsa-index.c (balsa_index_init): fixed superflous re-allocation
 	of scrolled window

	* src/main-window.c (create_toolbar): added GTK_WINDOW()-cast

1998-11-28  Michael Lausch  <mla@gams.at>

	* changed gtk_container_border_with to gtk_container_set_border_width

1998-11-25  Herbert Valerio Riedel  <hvr@hvrlab.ml.org>

	* src/sendmsg-window.c: add #include <ctype.h> and cast-macros

	* src/pref-manager.c: added cast-macros

	* src/main.c: fixed declaration of balsa_init()

	* src/main-window.c: added cast-macros

	* src/local-mailbox.c: added #include <ctype.h>

	* src/index-child.c: see next

	* src/filter-edit-dialog.c: see next

	* src/balsa-index.c: added cast-macros

	* src/balsa-app.c: added const modifier to balsa_error()

	* libbalsa/misc.c: fixed return value checking of malloc in readfile()

1998-11-18  Richard Hestilow  <hestgray@ionet.net>

	* src/main-window.c: Added underscore accelerators, no longer right
	justify "Help" menu either.

1998-09-23  Michael Lausch  <mla@gams.at>

	*  libbalse/mime.c (Mailbox): reorganized the translation of MIME 
	messages into HTML. Some things in gtkXmHTML aren't working, so i
	use a table approach now. Better multipart handling which is
	necessary for PGP support.

1998-09-15  Robert Wilhelm  <robert@alpha.physiol.med.tu-muenchen.de>

	* src/balsa-index.c (numeric_compare): new function to
	get sorting by message number right.
        (clist_click_column): use it here.
	
1998-09-11  Michael Lausch  <mla@gams.at>

	* src/balsa-message.c: Start of saving MIME parts (aka
	Attachments) to files. More on this topic will follow.

1998-09-02  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* src/Makefile.am (INCLUDES): Added ${top_builddir}/libmutt so
	that muttconfig.h is found when srcdir != builddir.

	* libbalsa/Makefile.am (INCLUDES): Likewise.

1998-08-25  Nat Friedman  <ndf@retrans.mit.edu>

	* src/balsa-init.c (next_cb): Try to create the specified
	mailboxes if they do not exist
	(create_mailbox_if_not_present): new function to do the above

1998-08-23  Nat Friedman  <ndf@retrans.mit.edu>

	* src/save-restore.c: This file has been completely rewritten.
	libPropList based configuration loading and storing is now
	functional.

	The configuration function names have all been made sane, also,
	and several files, including balsa-app.c, balsa-init.c, main.c,
	and pref-manager.c had to be modified to call the new routines.

	* src/mailbox-conf.c: Added some casts to the gtk_signal_connect()
	calls so that passing non-pointer closures doesn't generate a warning.


1998-08-07  Michael Lausch  <mla@gams.co.at>

	* src/main.c (balsa_exit): fix crash when exiting without
	selecting a mailbox.

1998-08-06  Michael Lausch  <mla@gams.co.at>

	* libbalsa/mailbox.c (content_type2str): new function. Returns
	String representation of MIME content.
	(text2html): Temproarily moved to mailbox.c from
	balsa-message. Will be moved back when MIME part handling is
	fixed.
	(other2html): new function. Formats an unknown MIME part into
	HTML. Should use a <A> tag, currently prints the part as text which
	is _wrong_.
	(audio2html): new function. Formats a `audio' part in HTML. Should 
	use a <A> tag. Currently just prints AUDIO
	(application2html): new function. Formats an `applicaton' in
	HTML. Should use a <A> tag. Currently just prints APPLICATION.
	(image2html): new function. Formats a `image' part in HTML. Should 
	use a <A> tag or a <IMG> tag. Currently just prints IMAGE.
	(message2html): new function. Formats a `message' in HTML. Should
	render the message like a top level message. Currently just prints 
	MESSAGE. 
	(multipart2html): new function. Should render a MULITPART
	part. Currently just prints MULTIPART.
	(video2html): new function. Formats a `video' in
	HTML. Should use a <A> tag. Currently just prints VIDEO.
	(mimetext2html): new function. Renders a text message into
	HTML. subtype html is unchanged, all oethers are passed to
	text2html. 
	(part2html): calls one of the part formatting functions depending
	on the type attribute of the MIME part. Subtype handling is done
	by the correspodning functions.
	(message_body_ref): Now renders the message in HTML with MIME
	handling. THIS WILL CHANGE. Next version will only put the
	type/subtype attributes into the balsa message structure.

	* src/balsa-message.c (message2html): message body is already
	HTML'ized. not further formating necessary. THIS WILL BE CHANGED
	very soon.

	temporarily moved ther text2html function into the mailbox file. 

	* libmutt/mx.c (mx_get_magic): fixed M_MH recognition
	semantics. .xmhcache file only exists of exmh was used. 

	* libbalsa/misc.c (readfile): fixed readfile function.
	

1998-08-03  Michael Lausch  <mla@gams.co.at>

	* src/local-mailbox.c (read_dir): changed isnumname to
	is_mh_message. MH messages filenames are a lot more variable then
	expected.
	(read_folders_from_file): new function. Reads the folder cache
	file and add mailboxes.
	(is_mh_message): new function. Applies some heuristics on the
	filename to find out if it is a MH message name (,[0-9]+ and
	[0-9].~[0-9]+~) are considered to be MH messages.
	
	new variable folder_cache_name.
	
Sat Aug 01 20:25:23 1998  George Lebl  <jirka@5z.com>

	* src/index-child.c: fixed up the destroy handler

	* src/main-window.c: user remove instead of destroy to close
	  a child

Thu Jul 30 21:26:22 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* libmutt/configure.in, mx.c, parse.c, pop.c, send.c

	Updated to mutt v0.93.2
	
	* libbalsa/mailbox.c, src/index-child.c

	Initial work on IMAP and POP3 support with mutt.  It doesn't seem to
	work very well right now.  I am still working on this.


Thu Jul 30 17:21:32 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* libbalsa/mailbox.c, src/local-mailbox.c

	Balsa now should read in mailboxes properly.  i.e. check to make sure
	its valid, as well as check its type.  I believe it should load mh
	folders now as well, although I havn't tested this yet, since I don't
	have any mh folders.  Balsa will not open any files with characters
	that are all numbers (i.e. mh messages), nor any files that start with
	a '.'.


Wed Jul 29 08:05:28 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* src/balsa-init.c

	Changed Balsa Init to use a gtk_dialog instead of a gnome_app window.
	I'll probibly change this to a gnome_dialog later.  This should make
	it look a little bit nicer.

	*src/pref-manager.c

	Changed the button box layout to SPREAD instead of END


Tue Jul 28 21:43:58 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* src/balsa-init.c

	More work, should save your settings now.  Mailbox addition inside the
	balsa-init still not there.  Balsa-app now uses balsa-init.c since its
	pretty:)


Tue Jul 28 21:19:38 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* src/balsa-init.c

	Started making balsa-init do something useful.  It is almost complete.  Once
	complete, it will be what is started when Balsa is run for the first time.  It 
	will setup all the information that Balsa needs to run correctly.


Tue Jul 28 14:00:35 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

        * src/pref-manager.c

	Removed open_main_window() call from pref manager if
	balsa_app.current_index_child was NULL.  This was causing lots of
	opened windows on startup.


Tue Jul 28 04:01:40 1998 Stuart Parmenter <pavlov@innerx.net>

	* TODO, INSTALL, README:

	Update of the documentation (or sad excuse for that).  Added the INSTALL file
	to replace the one thats automagically generated if it doesn't exist.  This
	way we get a file that accually applies to the installation of balsa, and not
	generic stuff.  This should help, not that its hard to do now that c-client is
	removed.

	Updated the TODO file to note that local mailbox dir recursion now is
	implimented but lacks a way to store the mailboxes in something other than a
	list currently.  This will be GForest's use.

	Updated README to remove INSTALL file info, and such.  Added a description,
	etc.


1998-08-06  Michael Lausch  <mla@gams.co.at>

	* libbalsa/mailbox.c (content_type2str): new function. Returns
	String representation of MIME content.
	(text2html): Temproarily moved to mailbox.c from
	balsa-message. Will be moved back when MIME part handling is
	fixed.
	(other2html): new function. Formats an unknown MIME part into
	HTML. Should use a <A> tag, currently prints the part as text which
	is _wrong_.
	(audio2html): new function. Formats a `audio' part in HTML. Should 
	use a <A> tag. Currently just prints AUDIO
	(application2html): new function. Formats an `applicaton' in
	HTML. Should use a <A> tag. Currently just prints APPLICATION.
	(image2html): new function. Formats a `image' part in HTML. Should 
	use a <A> tag or a <IMG> tag. Currently just prints IMAGE.
	(message2html): new function. Formats a `message' in HTML. Should
	render the message like a top level message. Currently just prints 
	MESSAGE. 
	(multipart2html): new function. Should render a MULITPART
	part. Currently just prints MULTIPART.
	(video2html): new function. Formats a `video' in
	HTML. Should use a <A> tag. Currently just prints VIDEO.
	(mimetext2html): new function. Renders a text message into
	HTML. subtype html is unchanged, all oethers are passed to
	text2html. 
	(part2html): calls one of the part formatting functions depending
	on the type attribute of the MIME part. Subtype handling is done
	by the correspodning functions.
	(message_body_ref): Now renders the message in HTML with MIME
	handling. THIS WILL CHANGE. Next version will only put the
	type/subtype attributes into the balsa message structure.

	* src/balsa-message.c (message2html): message body is already
	HTML'ized. not further formating necessary. THIS WILL BE CHANGED
	very soon.

	temporarily moved ther text2html function into the mailbox file. 

	* libmutt/mx.c (mx_get_magic): fixed M_MH recognition
	semantics. .xmhcache file only exists of exmh was used. 

	* libbalsa/misc.c (readfile): fixed readfile function.
	

1998-08-03  Michael Lausch  <mla@gams.co.at>

	* src/local-mailbox.c (read_dir): changed isnumname to
	is_mh_message. MH messages filenames are a lot more variable then
	expected.
	(read_folders_from_file): new function. Reads the folder cache
	file and add mailboxes.
	(is_mh_message): new function. Applies some heuristics on the
	filename to find out if it is a MH message name (,[0-9]+ and
	[0-9].~[0-9]+~) are considered to be MH messages.
	
	new variable folder_cache_name.
	
Sat Aug 01 20:25:23 1998  George Lebl  <jirka@5z.com>

	* src/index-child.c: fixed up the destroy handler

	* src/main-window.c: user remove instead of destroy to close
	  a child

Thu Jul 30 21:26:22 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* libmutt/configure.in, mx.c, parse.c, pop.c, send.c

	Updated to mutt v0.93.2
	
	* libbalsa/mailbox.c, src/index-child.c

	Initial work on IMAP and POP3 support with mutt.  It doesn't seem to
	work very well right now.  I am still working on this.


Thu Jul 30 17:21:32 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* libbalsa/mailbox.c, src/local-mailbox.c

	Balsa now should read in mailboxes properly.  i.e. check to make sure
	its valid, as well as check its type.  I believe it should load mh
	folders now as well, although I havn't tested this yet, since I don't
	have any mh folders.  Balsa will not open any files with characters
	that are all numbers (i.e. mh messages), nor any files that start with
	a '.'.


Wed Jul 29 08:05:28 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* src/balsa-init.c

	Changed Balsa Init to use a gtk_dialog instead of a gnome_app window.
	I'll probibly change this to a gnome_dialog later.  This should make
	it look a little bit nicer.

	*src/pref-manager.c

	Changed the button box layout to SPREAD instead of END


Tue Jul 28 21:43:58 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* src/balsa-init.c

	More work, should save your settings now.  Mailbox addition inside the
	balsa-init still not there.  Balsa-app now uses balsa-init.c since its
	pretty:)


Tue Jul 28 21:19:38 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* src/balsa-init.c

	Started making balsa-init do something useful.  It is almost complete.  Once
	complete, it will be what is started when Balsa is run for the first time.  It 
	will setup all the information that Balsa needs to run correctly.


Tue Jul 28 14:00:35 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

        * src/pref-manager.c

	Removed open_main_window() call from pref manager if
	balsa_app.current_index_child was NULL.  This was causing lots of
	opened windows on startup.


Tue Jul 28 04:01:40 1998 Stuart Parmenter <pavlov@innerx.net>

	* TODO, INSTALL, README:

	Update of the documentation (or sad excuse for that).  Added the INSTALL file
	to replace the one thats automagically generated if it doesn't exist.  This
	way we get a file that accually applies to the installation of balsa, and not
	generic stuff.  This should help, not that its hard to do now that c-client is
	removed.

	Updated the TODO file to note that local mailbox dir recursion now is
	implimented but lacks a way to store the mailboxes in something other than a
	list currently.  This will be GForest's use.

	Updated README to remove INSTALL file info, and such.  Added a description,
	etc.


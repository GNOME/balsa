1998-12-26  bertrand <bertrand.guiheneuf@inria.fr>

	* src/balsa-message.c (balsa_message_new): corrected the bug
	that made some widget background white instead of their
	normal background.
	
	* src/sendmsg-window.c (create_info_pane): idem as above. 
	

1998-12-19  Joel Becker  <jlbec@ocala.cs.miami.edu>

	* src/filter-edit-dialog.c: Enabled the neat new dnd
 	reordering of the filter clist.  Yay.

1998-12-19  pavlov@pavlov.net

	Modified files:

        libbalsa       : misc.c misc.h 
        src            : balsa-mblist.c main-window.c 

	Log message:

	make mailbox folders closed by default.. will do saving of
	their status shortly

1998-12-18  Jeff Garzik  <jgarzik@pobox.com>

	* po/de.po: big update from Michael Glauche <glauche@plum.de>

1998-12-18  Jeff Garzik  <jgarzik@pobox.com>

	* libbalsa/mailbox.c, libmutt/commands.c, libmutt/curs_main.c,
	  libmutt/flaglib.c, libmutt/flags.c, libmutt/mutt.h,
	  libmutt/mx.c, libmutt/pager.c, libmutt/pattern.c:
	s/M_READ/MFLAG_READ/ - Solaris system defines M_READ

	* libbalsa/misc.c: call g_malloc instead of malloc, because we
	call g_free in the allocated memory later on.
	From wmorgan@syntony.org.
 
1998-12-17  Jeff Garzik  <jgarzik@pobox.com>

	* libmutt/sendlib.c:
	one-liner from wmorgan@syntony.org that fixes msg bodies w/o
	a trailing newline

1998-12-16  Jeff Garzik  <jgarzik@pobox.com>

	* src/pref-manager.c:
	Outgoing mail is now a table, allowing you to select
	'remote smtp server' or 'local mail agent' for mail delivery.
	Greyed out because it doesn't actually work yet.

1998-12-16  Joel Becker  <jlbec@ocala.cs.miami.edu>

	* libbalsa/filter-error.c, libbalsa/filter-file.c,
        libbalsa/filter-funcs.c, libbalsa/filter-private.h,
	src/filter-edit-callbacks.c, src/filter-edit-dialog.c:
	Lots of little things, especially gui workings.  It's not perfect yet.
	Nor is it working.  But it compiles clean, and should cause no harm.

1998-12-15  Jeff Garzik  <jgarzik@pobox.com>

	* src/pref-manager.c:
	Added protocol column to server list.

	* src/spell-check.[ch]:
	Spell checking module for mail compose window.

1998-12-15  Ettore Perazzoli  <ettore@comm2000.it>

	* src/main-window.c (refresh_main_window): Retrieve the toolbar
 	with `gnome_app_get_dock_widget_by_name()'.
	(mblist_open_window): Make the behavior of the dock item
 	`EXCLUSIVE'.  Use `gnome_app_add_dock_item' instead of
 	`gnome_dock_add_item()'.

	* src/sendmsg-window.c (sendmsg_window_new): Likewise.

1998-12-14  Stuart Parmenter  <pavlov@pavlov.net>

        ./	  : INSTALL README balsa.1 balsa.spec configure.in,
        po/	  : de.po es.po fi.po fr.po ga.po ko.po no.po,
        libbalsa/ : Makefile.am libbalsa.c mime.c send.c,
        idl/Makefile.am, sounds/Makefile.am, src/Makefile.am:
	- Now passes 'make distcheck'

        it.po:
	- added the italian translation.

1998-12-14  Jeff Garzik <jgarzik@pobox.com>

	* src/main-window.c:
	- Re-enabled Mailbox/Delete menu item; it takes into account lack
	  of selection now.
	- Updated for new gnome-dock-item-new args.

	* src/message-window.c:
	- Continued futile efforts to close the message window via
	  File/Close.

1998-12-14  Jeff Garzik <jgarzik@pobox.com>

	* libbalsa/mailbox.[ch]:
	Added simple IMAP support stubs.

	* src/main-window.c:
	- include mailbox-conf.h to avoid warnings.
	- Added menu items to add, edit, and delete mailboxes.
	- Corrected typo.
	- Pop up error dialogs if no item is selected, and edit/delete
	  is chosen.

	* src/message-window.c:
	- added menu to message window, just File|Close right now.

1998-12-13  Jeff Garzik <jgarzik@pobox.com>

	* src/main-window.c:
	- Exported 'mdi' var, so we can grab it from other modules.
	- Reordered check-new-mail action to check regardless of whether
	  we check locally or not.

	* src/pref-manager.c:
	- Properly parent the prop box, so it minimizes when other
	  windows are minimized.
	- Select first item in POP3 server list.
	  FIXME: needs to select "proper" item based on previous action, 
	  add, delete, and modify.
	- Internationalize a few strings.
	  Rename "POP3 Servers" frame to "Remote Mailbox Servers"

	* src/sendmsg-window.c:
	Change menu item "Exit" to "Close".  We do not exit the app.

1998-12-09  Herbert Valerio Riedel  <hvr@phoenix.twisted.hvrlab.ml.org>

	* src/filter-edit.h, libbalsa/filter-funcs.h: added missing prototypes
	* libbalsa/filter-funcs.c (filter_init): initialize var to shut up
	compiler

1998-12-12  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* src/main-window.c (app_created): connected set_icon() to
	realize signal handler for app as MDI does not explicitly
	realize GnomeApps anymore.
	
1998-12-10  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* src/sendmsg-window.c (attachments_add): Add drag and drop
	support for the attachments.

1998-12-09  Jeff Garzik  <jgarzik@pobox.com>

	* src/balsa-message.c, src/index-child.c:
	Fixed gnome-dialog-run-and-close breakage.

1998-12-08  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* src/index-child.c, src/balsa-message.c: changed gnome_dialog_set_modal()
	to gtk_window_set_modal() and use gnome_dialog_run_close() instead of
	gnome_dialog_run_and_hide() and gtk_widget_destroy(). 
	* main-window.c (refresh_main_window): DON'T use gnome_mdi_set_mode() to
	refresh display. this gets you into trouble and would look butt ugly anyway.
	
1998-11-29  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* src/sendmsg-window.c (create_info_pane): GnomeIconList no longer
	starts in frozen state.

1998-11-29  Herbert Valerio Riedel  <hvr@hvrlab.ml.org>

	* src/balsa-index.c (balsa_index_init): fixed superflous re-allocation
 	of scrolled window

	* src/main-window.c (create_toolbar): added GTK_WINDOW()-cast

1998-11-28  Michael Lausch  <mla@gams.at>

	* changed gtk_container_border_with to gtk_container_set_border_width

1998-11-25  Herbert Valerio Riedel  <hvr@hvrlab.ml.org>

	* src/sendmsg-window.c: add #include <ctype.h> and cast-macros

	* src/pref-manager.c: added cast-macros

	* src/main.c: fixed declaration of balsa_init()

	* src/main-window.c: added cast-macros

	* src/local-mailbox.c: added #include <ctype.h>

	* src/index-child.c: see next

	* src/filter-edit-dialog.c: see next

	* src/balsa-index.c: added cast-macros

	* src/balsa-app.c: added const modifier to balsa_error()

	* libbalsa/misc.c: fixed return value checking of malloc in readfile()

1998-11-18  Richard Hestilow  <hestgray@ionet.net>

	* src/main-window.c: Added underscore accelerators, no longer right
	justify "Help" menu either.

1998-09-23  Michael Lausch  <mla@gams.at>

	*  libbalse/mime.c (Mailbox): reorganized the translation of MIME 
	messages into HTML. Some things in gtkXmHTML aren't working, so i
	use a table approach now. Better multipart handling which is
	necessary for PGP support.

1998-09-15  Robert Wilhelm  <robert@alpha.physiol.med.tu-muenchen.de>

	* src/balsa-index.c (numeric_compare): new function to
	get sorting by message number right.
        (clist_click_column): use it here.
	
1998-09-11  Michael Lausch  <mla@gams.at>

	* src/balsa-message.c: Start of saving MIME parts (aka
	Attachments) to files. More on this topic will follow.

1998-09-02  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* src/Makefile.am (INCLUDES): Added ${top_builddir}/libmutt so
	that muttconfig.h is found when srcdir != builddir.

	* libbalsa/Makefile.am (INCLUDES): Likewise.

1998-08-25  Nat Friedman  <ndf@retrans.mit.edu>

	* src/balsa-init.c (next_cb): Try to create the specified
	mailboxes if they do not exist
	(create_mailbox_if_not_present): new function to do the above

1998-08-23  Nat Friedman  <ndf@retrans.mit.edu>

	* src/save-restore.c: This file has been completely rewritten.
	libPropList based configuration loading and storing is now
	functional.

	The configuration function names have all been made sane, also,
	and several files, including balsa-app.c, balsa-init.c, main.c,
	and pref-manager.c had to be modified to call the new routines.

	* src/mailbox-conf.c: Added some casts to the gtk_signal_connect()
	calls so that passing non-pointer closures doesn't generate a warning.


1998-08-07  Michael Lausch  <mla@gams.co.at>

	* src/main.c (balsa_exit): fix crash when exiting without
	selecting a mailbox.

1998-08-06  Michael Lausch  <mla@gams.co.at>

	* libbalsa/mailbox.c (content_type2str): new function. Returns
	String representation of MIME content.
	(text2html): Temproarily moved to mailbox.c from
	balsa-message. Will be moved back when MIME part handling is
	fixed.
	(other2html): new function. Formats an unknown MIME part into
	HTML. Should use a <A> tag, currently prints the part as text which
	is _wrong_.
	(audio2html): new function. Formats a `audio' part in HTML. Should 
	use a <A> tag. Currently just prints AUDIO
	(application2html): new function. Formats an `applicaton' in
	HTML. Should use a <A> tag. Currently just prints APPLICATION.
	(image2html): new function. Formats a `image' part in HTML. Should 
	use a <A> tag or a <IMG> tag. Currently just prints IMAGE.
	(message2html): new function. Formats a `message' in HTML. Should
	render the message like a top level message. Currently just prints 
	MESSAGE. 
	(multipart2html): new function. Should render a MULITPART
	part. Currently just prints MULTIPART.
	(video2html): new function. Formats a `video' in
	HTML. Should use a <A> tag. Currently just prints VIDEO.
	(mimetext2html): new function. Renders a text message into
	HTML. subtype html is unchanged, all oethers are passed to
	text2html. 
	(part2html): calls one of the part formatting functions depending
	on the type attribute of the MIME part. Subtype handling is done
	by the correspodning functions.
	(message_body_ref): Now renders the message in HTML with MIME
	handling. THIS WILL CHANGE. Next version will only put the
	type/subtype attributes into the balsa message structure.

	* src/balsa-message.c (message2html): message body is already
	HTML'ized. not further formating necessary. THIS WILL BE CHANGED
	very soon.

	temporarily moved ther text2html function into the mailbox file. 

	* libmutt/mx.c (mx_get_magic): fixed M_MH recognition
	semantics. .xmhcache file only exists of exmh was used. 

	* libbalsa/misc.c (readfile): fixed readfile function.
	

1998-08-03  Michael Lausch  <mla@gams.co.at>

	* src/local-mailbox.c (read_dir): changed isnumname to
	is_mh_message. MH messages filenames are a lot more variable then
	expected.
	(read_folders_from_file): new function. Reads the folder cache
	file and add mailboxes.
	(is_mh_message): new function. Applies some heuristics on the
	filename to find out if it is a MH message name (,[0-9]+ and
	[0-9].~[0-9]+~) are considered to be MH messages.
	
	new variable folder_cache_name.
	
Sat Aug 01 20:25:23 1998  George Lebl  <jirka@5z.com>

	* src/index-child.c: fixed up the destroy handler

	* src/main-window.c: user remove instead of destroy to close
	  a child

Thu Jul 30 21:26:22 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* libmutt/configure.in, mx.c, parse.c, pop.c, send.c

	Updated to mutt v0.93.2
	
	* libbalsa/mailbox.c, src/index-child.c

	Initial work on IMAP and POP3 support with mutt.  It doesn't seem to
	work very well right now.  I am still working on this.


Thu Jul 30 17:21:32 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* libbalsa/mailbox.c, src/local-mailbox.c

	Balsa now should read in mailboxes properly.  i.e. check to make sure
	its valid, as well as check its type.  I believe it should load mh
	folders now as well, although I havn't tested this yet, since I don't
	have any mh folders.  Balsa will not open any files with characters
	that are all numbers (i.e. mh messages), nor any files that start with
	a '.'.


Wed Jul 29 08:05:28 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* src/balsa-init.c

	Changed Balsa Init to use a gtk_dialog instead of a gnome_app window.
	I'll probibly change this to a gnome_dialog later.  This should make
	it look a little bit nicer.

	*src/pref-manager.c

	Changed the button box layout to SPREAD instead of END


Tue Jul 28 21:43:58 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* src/balsa-init.c

	More work, should save your settings now.  Mailbox addition inside the
	balsa-init still not there.  Balsa-app now uses balsa-init.c since its
	pretty:)


Tue Jul 28 21:19:38 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

	* src/balsa-init.c

	Started making balsa-init do something useful.  It is almost complete.  Once
	complete, it will be what is started when Balsa is run for the first time.  It 
	will setup all the information that Balsa needs to run correctly.


Tue Jul 28 14:00:35 EDT 1998 Stuart Parmenter <pavlov@innerx.net>

        * src/pref-manager.c

	Removed open_main_window() call from pref manager if
	balsa_app.current_index_child was NULL.  This was causing lots of
	opened windows on startup.


Tue Jul 28 04:01:40 1998 Stuart Parmenter <pavlov@innerx.net>

	* TODO, INSTALL, README:

	Update of the documentation (or sad excuse for that).  Added the INSTALL file
	to replace the one thats automagically generated if it doesn't exist.  This
	way we get a file that accually applies to the installation of balsa, and not
	generic stuff.  This should help, not that its hard to do now that c-client is
	removed.

	Updated the TODO file to note that local mailbox dir recursion now is
	implimented but lacks a way to store the mailboxes in something other than a
	list currently.  This will be GForest's use.

	Updated README to remove INSTALL file info, and such.  Added a description,
	etc.

